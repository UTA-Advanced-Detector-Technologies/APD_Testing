Version 4
SHEET 1 2632 892
WIRE 1040 -48 1008 -48
WIRE 1184 -48 1104 -48
WIRE 656 -32 608 -32
WIRE 672 -32 656 -32
WIRE 256 -16 240 -16
WIRE 352 -16 320 -16
WIRE 1008 -16 1008 -48
WIRE 1008 -16 864 -16
WIRE 656 0 656 -32
WIRE 672 0 656 0
WIRE -160 16 -240 16
WIRE -16 16 -80 16
WIRE 160 16 64 16
WIRE 240 16 240 -16
WIRE 240 16 160 16
WIRE 1008 16 864 16
WIRE 352 32 352 -16
WIRE 400 32 352 32
WIRE 528 32 480 32
WIRE 672 32 528 32
WIRE 1008 32 1008 16
WIRE 1040 32 1008 32
WIRE 1184 32 1104 32
WIRE -240 48 -240 16
WIRE 160 48 160 16
WIRE 960 48 864 48
WIRE 240 64 240 16
WIRE 256 64 240 64
WIRE 352 64 352 32
WIRE 352 64 320 64
WIRE 672 64 624 64
WIRE 896 80 864 80
WIRE 528 96 528 32
WIRE 960 112 960 48
WIRE 1024 112 960 112
WIRE 1184 112 1104 112
WIRE 896 128 896 80
WIRE 160 144 160 128
WIRE 528 176 528 160
WIRE 576 336 576 272
WIRE 688 400 688 352
WIRE 576 464 576 416
FLAG 896 128 0
FLAG 1184 112 VAA
FLAG 624 64 Gain
FLAG 688 352 Gain
FLAG 576 464 0
FLAG 576 272 VAA
FLAG -240 48 0
FLAG 688 400 0
FLAG 608 -32 VAA
FLAG 528 176 0
FLAG 160 144 0
SYMBOL res 496 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 309
SYMATTR SpiceLine tol=1 pwr=.125
SYMBOL res 1008 128 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R0
SYMATTR Value 0
SYMBOL cap 1104 -64 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 100n
SYMBOL cap 1104 16 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 100n
SYMBOL cap 320 -32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 100n
SYMBOL cap 320 48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 100p
SYMBOL MAX40660 768 16 R0
SYMATTR InstName U1
SYMBOL voltage 576 320 R0
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL cap 512 96 R0
SYMATTR InstName C1
SYMATTR Value 10p
SYMBOL res 144 32 R0
SYMATTR InstName R2
SYMATTR Value 50
SYMBOL current 64 16 R90
WINDOW 0 32 40 VTop 2
WINDOW 3 4 40 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value PULSE(0 {I} 0 1n 1n 20n 50n)
SYMBOL current -80 16 R90
WINDOW 0 -32 40 VBottom 2
WINDOW 3 32 40 VTop 2
SYMATTR InstName I2
SYMATTR Value 100m
TEXT -40 256 Left 2 !.tran 0 100n 0
TEXT -392 384 Left 2 ;Gain Connected to Ground is 25kOhms, Connected to Vcc for Gain of 50 K=kOhm
TEXT -1040 -80 Left 2 ;Rise:              2  ns            2ns        1ns\nFall:               2  ns            2ns         1ns\nPeriod:          10 ns            10ns        20ns\nFlip Current:   33 uA            33uA       33uA
TEXT -1040 32 Left 2 ;From testing, changing rise/fall times slightly have no effect, \nnor does changing length of period. Currrent setup needs \nphotodiode to produce 33uA
TEXT -1040 208 Left 2 ;To lower target current needed to flip output, either\nlower R1 or increase R2
TEXT -1040 120 Left 2 ;Connecting LP to VAA rather than ground does produce a slight\nreduction in required threshold for detection, from 33 uA to\n32 uA, but this is due to percision being doubled
TEXT -40 224 Left 2 !.step param I 0 100u 1u
